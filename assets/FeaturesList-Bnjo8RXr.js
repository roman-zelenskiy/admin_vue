import{d as M,r as l,I as T,q as F,b as r,c,e as t,x as i,z as B,m as f,y as V,t as o,F as b,k as A,f as L,v as N}from"./index-DwuH0yS_.js";import{u as U}from"./features-DWQEU_1r.js";import{M as $,_ as q}from"./ModalConfirmation-C8ZjttGN.js";import"./getDocumentsByFilters-CHx-L1bL.js";const z={class:"d-flex align-items-center mb-3"},E={class:"ms-auto"},R={class:"tab-content p-4"},j={class:"tab-pane fade show active",id:"allTab"},G={class:"input-group mb-4"},K={class:"btn btn-default dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},H={class:"dropdown-menu"},J=["onClick"],O={class:"flex-fill position-relative"},Q={class:"input-group"},W={class:"table-responsive"},X={class:"table table-hover text-nowrap"},Y={class:"align-middle"},Z={class:"d-flex align-items-center"},tt={class:"align-middle"},et={class:"align-middle"},st={class:"align-middle"},at=["onClick"],ut=M({__name:"FeaturesList",setup(lt){const _=U(),d=l(1),u=l(""),p=l(""),h=l(0),g=l([]),x=l(""),v=l(!1),w=[{value:"id",title:"Id"},{value:"title",title:"Title"},{value:"createdAt",title:"Created at"}],P=a=>{x.value=a},C=(a,e)=>{a&&P(e),v.value=a},D=a=>{p.value=a},m=async()=>{const{documents:a,totalPages:e}=await _.getDocsByFilters(d.value,{filterValue:u.value,filterKey:p.value});g.value=a||[],h.value=e},S=async a=>{await _.deleteDocument(a),await m(),C(!1,"")};return T([d,u],()=>{m()},{deep:!0}),m(),(a,e)=>{const k=F("RouterLink"),y=F("card");return r(),c(b,null,[t("div",z,[i($,{onActionSuccess:e[0]||(e[0]=n=>S(x.value)),modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=n=>v.value=n),title:"Delete a category?"},null,8,["modelValue"]),e[5]||(e[5]=B('<div><ul class="breadcrumb"><li class="breadcrumb-item"><a href="#">PAGES</a></li><li class="breadcrumb-item active text-uppercase">Features</li></ul><h1 class="page-header mb-0">Features</h1></div>',1)),t("div",E,[i(k,{to:"/feature-create",href:"#",class:"btn btn-theme"},{default:f(()=>e[4]||(e[4]=[t("i",{class:"fa fa-plus-circle fa-fw me-1"},null,-1),V(" Add Feature")])),_:1})])]),i(y,null,{default:f(()=>{var n;return[t("div",R,[t("div",j,[t("div",G,[t("button",K,o(((n=w.find(s=>p.value==s.value))==null?void 0:n.title)||"Filter categories")+" Â  ",1),t("div",H,[(r(),c(b,null,A(w,s=>t("button",{class:"dropdown-item",onClick:I=>D(s.value),key:s.value},o(s.title),9,J)),64))]),t("div",O,[t("div",Q,[e[6]||(e[6]=t("div",{class:"input-group-text position-absolute top-0 bottom-0 bg-none border-0",style:{"z-index":"1020"}},[t("i",{class:"fa fa-search opacity-5"})],-1)),L(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),type:"text",class:"form-control ps-35px",placeholder:"Search products"},null,512),[[N,u.value]])])])]),t("div",W,[t("table",X,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",{class:"pt-0 pb-2"},"Id"),t("th",{class:"pt-0 pb-2"},"Title"),t("th",{class:"pt-0 pb-2"},"Created At"),t("th",{class:"pt-0 pb-2"},"Updated At"),t("th",{class:"pt-0 pb-2"})])],-1)),t("tbody",null,[(r(!0),c(b,null,A(g.value,s=>(r(),c("tr",{key:s.id},[t("td",Y,o(s.id),1),t("td",null,[t("div",Z,[t("div",null,[i(k,{to:/feature-update/+s.id},{default:f(()=>[V(o(s.title),1)]),_:2},1032,["to"])])])]),t("td",tt,o(s==null?void 0:s.createdAt),1),t("td",et,o(s==null?void 0:s.updatedAt),1),t("td",st,[t("button",{onClick:I=>C(!0,s.id),class:"btn btn-light"},e[7]||(e[7]=[t("i",{class:"fas fa-trash-alt"},null,-1)]),8,at)])]))),128))])])]),i(q,{class:"justify-content-center mt-2",currentPage:d.value,"onUpdate:currentPage":e[3]||(e[3]=s=>d.value=s),quantityPages:h.value},null,8,["currentPage","quantityPages"])])])]}),_:1})],64)}}});export{ut as default};
