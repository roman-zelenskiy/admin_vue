import{d as B,r as l,H as L,q as A,b as u,c as r,e as t,x as d,z as N,m as f,y as P,t as a,F as _,k as R,f as U,v as $,p as q}from"./index-Db-Z4ngN.js";import{u as T}from"./realEstate-DjiVLw-F.js";import{f as z}from"./formatDate-BTl2i0hr.js";import{M as j,_ as G}from"./ModalConfirmation-DR-VJmwg.js";import"./generateUniqueId-BGfF6MB9.js";import"./getDocumentsByFilters-DHcTt1gp.js";const H={class:"d-flex align-items-center mb-3"},K={class:"ms-auto"},J={class:"tab-content p-4"},O={class:"tab-pane fade show active",id:"allTab"},Q={class:"input-group mb-4"},W={class:"btn btn-default dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},X={class:"dropdown-menu"},Y=["onClick"],Z={class:"flex-fill position-relative"},E={class:"input-group"},tt={class:"table-responsive"},et={class:"table table-hover text-nowrap"},st={class:"align-middle"},ot={class:"align-middle"},lt={class:""},at={class:"align-middle"},nt={class:"align-middle"},dt={class:"align-middle"},it={class:"align-middle"},ct=["onClick"],gt=B({__name:"RealEstateList",setup(ut){const b=T(),i=l(1),c=l(""),p=l(""),g=l(0),h=l([]),y=l(""),m=l(!1),x=[{value:"id",title:"Id"},{value:"address",title:"Address"},{value:"createdAt",title:"Created at"}],S=o=>{y.value=o},C=(o,s)=>{o&&S(s),m.value=o},F=o=>{p.value=o},v=async()=>{const{documents:o,totalPages:s}=await b.getItemsByFilters(i.value,{filterValue:c.value,filterKey:p.value});h.value=o||[],g.value=s},I=async o=>{await b.deleteDocument(o),await v(),C(!1,"")};return L([i,c],()=>{v()},{deep:!0}),v(),(o,s)=>{const w=A("RouterLink"),M=A("card");return u(),r(_,null,[t("div",H,[d(j,{onActionSuccess:s[0]||(s[0]=n=>I(y.value)),modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=n=>m.value=n),title:"Delete a customer?"},null,8,["modelValue"]),s[5]||(s[5]=N('<div><ul class="breadcrumb"><li class="breadcrumb-item"><a href="#">PAGES</a></li><li class="breadcrumb-item active text-uppercase">Real estate</li></ul><h1 class="page-header mb-0">Real estate</h1></div>',1)),t("div",K,[d(w,{to:"/real-estate-create",href:"#",class:"btn btn-theme"},{default:f(()=>s[4]||(s[4]=[t("i",{class:"fa fa-plus-circle fa-fw me-1"},null,-1),P(" Create Real estate")])),_:1})])]),d(M,null,{default:f(()=>{var n;return[t("div",J,[t("div",O,[t("div",Q,[t("button",W,a(((n=x.find(e=>p.value==e.value))==null?void 0:n.title)||"Filter real estate")+" Â  ",1),t("div",X,[(u(),r(_,null,R(x,e=>t("button",{class:"dropdown-item",onClick:k=>F(e.value),key:e.value},a(e.title),9,Y)),64))]),t("div",Z,[t("div",E,[s[6]||(s[6]=t("div",{class:"input-group-text position-absolute top-0 bottom-0 bg-none border-0",style:{"z-index":"1020"}},[t("i",{class:"fa fa-search opacity-5"})],-1)),U(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>c.value=e),type:"text",class:"form-control ps-35px",placeholder:"Search products"},null,512),[[$,c.value]])])])]),t("div",tt,[t("table",et,[s[8]||(s[8]=t("thead",null,[t("tr",null,[t("th",{class:"pt-0 pb-2"},"Id"),t("th",{class:"pt-0 pb-2"},"Address"),t("th",{class:"pt-0 pb-2"},"User"),t("th",{class:"pt-0 pb-2"},"Company developer"),t("th",{class:"pt-0 pb-2"},"Created At"),t("th",{class:"pt-0 pb-2"})])],-1)),t("tbody",null,[(u(!0),r(_,null,R(h.value,(e,k)=>{var D,V;return u(),r("tr",{key:e.id||k},[t("td",st,a(e==null?void 0:e.id),1),t("td",ot,[t("div",lt,[d(w,{to:/real-estate-update/+(e==null?void 0:e.id)},{default:f(()=>[P(a(e.address),1)]),_:2},1032,["to"])])]),t("td",at,a(((D=e==null?void 0:e.user)==null?void 0:D.name)||"null"),1),t("td",nt,a(((V=e==null?void 0:e.developerDetails)==null?void 0:V.companyDeveloper)||"null"),1),t("td",dt,a(e.createdAt?q(z)(e.createdAt):""),1),t("td",it,[t("button",{onClick:rt=>C(!0,e==null?void 0:e.id),class:"btn btn-light"},s[7]||(s[7]=[t("i",{class:"fas fa-trash-alt"},null,-1)]),8,ct)])])}),128))])])]),d(G,{class:"justify-content-center mt-2",currentPage:i.value,"onUpdate:currentPage":s[3]||(s[3]=e=>i.value=e),quantityPages:g.value},null,8,["currentPage","quantityPages"])])])]}),_:1})],64)}}});export{gt as default};
