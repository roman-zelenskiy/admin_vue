import{d as T,r as l,H as B,q as V,b as u,c,e as t,x as i,z as I,m as b,y,t as o,F as f,k as A,f as L,v as N}from"./index-DDNcE4wR.js";import{u as U}from"./categories-CbYFFI1e.js";import{M as $,_ as q}from"./ModalConfirmation-DW6FDc6E.js";import"./getDocumentsByFilters-kyLMTKT8.js";const z={class:"d-flex align-items-center mb-3"},E={class:"ms-auto"},R={class:"tab-content p-4"},j={class:"tab-pane fade show active",id:"allTab"},G={class:"input-group mb-4"},H={class:"btn btn-default dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},K={class:"dropdown-menu"},J=["onClick"],O={class:"flex-fill position-relative"},Q={class:"input-group"},W={class:"table-responsive"},X={class:"table table-hover text-nowrap"},Y={class:"align-middle"},Z={class:"d-flex align-items-center"},tt={class:"align-middle"},et={class:"align-middle"},st={class:"align-middle"},at=["onClick"],rt=T({__name:"CategoriesList",setup(lt){const _=U(),d=l(1),r=l(""),p=l(""),g=l(0),h=l([]),C=l(""),v=l(!1),x=[{value:"id",title:"Id"},{value:"title",title:"Title"},{value:"createdAt",title:"Created at"}],P=a=>{C.value=a},w=(a,e)=>{a&&P(e),v.value=a},S=a=>{p.value=a},m=async()=>{const{categories:a,totalPages:e}=await _.getCategoriesByFilters(d.value,{filterValue:r.value,filterKey:p.value});h.value=a||[],g.value=e},F=async a=>{await _.deleteCategory(a),await m(),w(!1,"")};return B([d,r],()=>{m()},{deep:!0}),m(),(a,e)=>{const k=V("RouterLink"),D=V("card");return u(),c(f,null,[t("div",z,[i($,{onActionSuccess:e[0]||(e[0]=n=>F(C.value)),modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=n=>v.value=n),title:"Delete a category?"},null,8,["modelValue"]),e[5]||(e[5]=I('<div><ul class="breadcrumb"><li class="breadcrumb-item"><a href="#">PAGES</a></li><li class="breadcrumb-item active text-uppercase">Categories</li></ul><h1 class="page-header mb-0">Categories</h1></div>',1)),t("div",E,[i(k,{to:"/category-create",href:"#",class:"btn btn-theme"},{default:b(()=>e[4]||(e[4]=[t("i",{class:"fa fa-plus-circle fa-fw me-1"},null,-1),y(" Add Category")])),_:1})])]),i(D,null,{default:b(()=>{var n;return[t("div",R,[t("div",j,[t("div",G,[t("button",H,o(((n=x.find(s=>p.value==s.value))==null?void 0:n.title)||"Filter categories")+" Â  ",1),t("div",K,[(u(),c(f,null,A(x,s=>t("button",{class:"dropdown-item",onClick:M=>S(s.value),key:s.value},o(s.title),9,J)),64))]),t("div",O,[t("div",Q,[e[6]||(e[6]=t("div",{class:"input-group-text position-absolute top-0 bottom-0 bg-none border-0",style:{"z-index":"1020"}},[t("i",{class:"fa fa-search opacity-5"})],-1)),L(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),type:"text",class:"form-control ps-35px",placeholder:"Search products"},null,512),[[N,r.value]])])])]),t("div",W,[t("table",X,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",{class:"pt-0 pb-2"},"Id"),t("th",{class:"pt-0 pb-2"},"Title"),t("th",{class:"pt-0 pb-2"},"Created At"),t("th",{class:"pt-0 pb-2"},"Updated At"),t("th",{class:"pt-0 pb-2"})])],-1)),t("tbody",null,[(u(!0),c(f,null,A(h.value,s=>(u(),c("tr",{key:s.id},[t("td",Y,o(s.id),1),t("td",null,[t("div",Z,[t("div",null,[i(k,{to:/category-update/+s.id},{default:b(()=>[y(o(s.title),1)]),_:2},1032,["to"])])])]),t("td",tt,o(s==null?void 0:s.createdAt),1),t("td",et,o(s==null?void 0:s.updatedAt),1),t("td",st,[t("button",{onClick:M=>w(!0,s.id),class:"btn btn-light"},e[7]||(e[7]=[t("i",{class:"fas fa-trash-alt"},null,-1)]),8,at)])]))),128))])])]),i(q,{class:"justify-content-center mt-2",currentPage:d.value,"onUpdate:currentPage":e[3]||(e[3]=s=>d.value=s),quantityPages:g.value},null,8,["currentPage","quantityPages"])])])]}),_:1})],64)}}});export{rt as default};
