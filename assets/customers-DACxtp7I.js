import{j as l,r as y,O as c,P as h,Q as i,S as U}from"./index-Btd1EPW-.js";import{g as w}from"./categories-D-WNszC5.js";var o=[];for(var u=0;u<256;++u)o.push((u+256).toString(16).slice(1));function x(t,e=0){return(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase()}var a,v=new Uint8Array(16);function C(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(v)}var D=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const d={randomUUID:D};function I(t,e,p){if(d.randomUUID&&!e&&!t)return d.randomUUID();t=t||{};var r=t.random||(t.rng||C)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,x(r)}const m=()=>I(),R=l("customers",()=>{const t=y(null);return{createCustomer:async r=>{const s=r;s.photo&&s.photo instanceof File&&await c(s.photo,`user_photos/${m()}`).then(n=>{s.photo=n}),s.experience=await Promise.all(s.experience.map(async n=>(n.logo&&n.logo instanceof File&&(n.logo=await c(n.logo,`experience_logos/${m()}`)),n)));try{const n=await h(i,s);return await U(n,{id:n.id}),{status:1}}catch(n){return console.log(n),{status:0}}},getCustomersByFilters:async(r=1,s)=>{try{const{documents:n,totalPages:g}=await w(i,t,r,s);return{documents:n,totalPages:g}}catch(n){return console.error("Error fetching documents: ",n),{documents:[],totalPages:0}}}}});export{m as g,R as u};
