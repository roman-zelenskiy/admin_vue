import{d as F,r as v,H as T,q as u,b as c,c as d,e,t as r,w as V,x as i,m as p,y as m,f as P,v as k,g as _,F as A}from"./index-DZo-DfWi.js";import{_ as N}from"./TagsInput.vue_vue_type_script_setup_true_lang-BOioIhoK.js";import{u as B}from"./features-B_jO4xjp.js";const O={class:"d-flex align-items-center mb-3"},q={class:"breadcrumb"},E={class:"breadcrumb-item text-uppercase active"},M={class:"page-header mb-0"},U={class:"row gx-4"},j={class:"col-lg-8"},G={class:"mb-3"},H={class:"mb-3"},$={key:0,class:"alert alert-danger"},z={key:1,class:"alert alert-success"},J={type:"submit",class:"btn btn-theme"},R=F({__name:"FeatureDetails",props:{type:{},payloadInputs:{},featureId:{}},emits:["update:modelValue"],setup(b,{emit:g}){const l=b,h=g,f=B(),o=v(""),n=v(""),a=T({get:()=>l.payloadInputs,set:s=>{h("update:modelValue",s)}}),y=()=>a.value.properties.length===0?(o.value="There must be a properties!",!1):!0,w=async()=>{if(o.value="",n.value="",!y())return!1;let s={status:0};if(l.type==="Create"){const t=a.value;t.createdAt=new Date().toISOString(),t.updatedAt=new Date().toISOString(),s=await f.createDocument(t)}l.type==="Update"&&(a.value.updatedAt=new Date().toISOString(),s=await f.updateDocument(a.value,l.featureId)),s.status===0&&(o.value="The action is unsuccessful!"),s.status===1&&(n.value="The action is successful!")},x=s=>{a.value.properties=s.map(t=>t.text)};return(s,t)=>{const S=u("card-header"),D=u("card-body"),I=u("card");return c(),d(A,null,[e("div",O,[e("div",null,[e("ol",q,[t[1]||(t[1]=e("li",{class:"breadcrumb-item"},[e("a",{href:"javascript:;"},"PAGES")],-1)),e("li",E," Feature "+r(s.type),1)]),e("h1",M,"Feature "+r(s.type),1)])]),e("div",U,[e("div",j,[e("form",{action:"#",onSubmit:V(w,["prevent"])},[i(I,{class:"mb-4"},{default:p(()=>[i(S,{class:"d-flex align-items-center bg-inverse bg-opacity-10 fw-400"},{default:p(()=>t[2]||(t[2]=[m(" Feature Information ")])),_:1}),i(D,null,{default:p(()=>[e("div",G,[t[3]||(t[3]=e("label",{class:"form-label"},[m("Title "),e("span",{class:"text-danger"},"*")],-1)),P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=C=>a.value.title=C),type:"text",required:"",class:"form-control",name:"title",placeholder:"Product name"},null,512),[[k,a.value.title]])]),e("div",H,[t[4]||(t[4]=e("label",{class:"form-label"},[m("Properties "),e("span",{class:"text-danger"},"*")],-1)),i(N,{onTagsChanged:x,tags:a.value.properties,"autocomplete-items":[]},null,8,["tags"])])]),_:1})]),_:1}),o.value?(c(),d("div",$,r(o.value),1)):_("",!0),n.value?(c(),d("div",z,r(n.value),1)):_("",!0),e("button",J,r(s.type),1)],32)])])],64)}}});export{R as _};
